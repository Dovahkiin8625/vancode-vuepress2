---
title: python 变量与操作符
date: 2022-03-10 14:40:13
permalink: /pages/bf3db1/
categories:
  - Python
  - python 基础
tags:
  - 操作符
  - 变量
---
## 变量与操作符

[变量](#变量)<br>
[一个特殊变量](#一个特殊变量)<br>
[变量类型](#变量类型)<br>
[可变对象与不可变对象](#可变对象与不可变对象)<br>
[赋值](#赋值)<br>
[运算符](#运算符)<br>

## 变量
[回到顶部](#变量与操作符)

python 中的变量不需要声明。每个变量在使用前都必须赋值，变量赋值以后该变量才会被创建。<br>
在 python 中，变量就是变量，它没有类型，我们所说的"类型"是变量所指的内存中对象的类型。

## 一个特殊变量
[回到顶部](#变量与操作符)

python中有一个特殊的变量：_ ，其用来存储上一次运算的结果


```python
1 + 1
print(_)
```

    2

## 变量类型
[回到顶部](#变量与操作符)

Python3 中有六个标准的数据类型：

- Number（数字）
- String（字符串）
- List（列表）
- Tuple（元组）
- Set（集合）
- Dictionary（字典）


```python
a = 1.
b = "b"
c = [1, 2]
d = (1,)
e = {1, 2}
f = {1: "a", 2: "b"}

type(a)
```


    float

## 可变对象与不可变对象
[回到顶部](#变量与操作符)

Python3 的六个标准数据类型中：

- 不可变数据（3 个）：Number（数字）、String（字符串）、Tuple（元组）
- 可变数据（3 个）：List（列表）、Dictionary（字典）、Set（集合）

**不可变类型**：变量赋值 a=5 后再赋值 a=10，这里实际是新生成一个 int 值对象 10，再让 a 指向它，而 5 被丢弃，不是改变a的值，相当于新生成了a。函数传递时，如fun(a)，传递  的只是a的值，没有影响a对象本身。比如在 fun(a)内部修改 a 的值，只是修改另一个复制的对象，不会影响 a 本身。


```python
a = 1
b = a
b = 2
print("a: {}, a_id: {}".format(a, id(a)))
print("b: {}, b_id: {}".format(b, id(b)))
```

    a: 1, a_id: 140725507502928
    b: 2, b_id: 140725507502960


**可变类型**：变量赋值 la=[1,2,3,4] 后再赋值 la[2]=5 则是将 list la 的第三个元素值更改，本身la没有动，只是其内部的一部分值被修改了。函数调用时，如 fun(la)，则是将 la 真正的传过去，修改后fun外部的la也会受影响


```python
a = [1]
b = a
b.append(2)
print("a: {}, a_id: {}".format(a, id(a)))
print("b: {}, b_id: {}".format(b, id(b)))
```

    a: [1, 2], a_id: 2432088921096
    b: [1, 2], b_id: 2432088921096



```python
a = [1]
b = a
b = b + [2]
print("a: {},    a_id: {}".format(a, id(a)))
print("b: {}, b_id: {}".format(b, id(b)))
```

    a: [1],    a_id: 2432088921096
    b: [1, 2], b_id: 2432089491656



```python
a = [1]
b = a
b += [2]
print("a: {}, a_id: {}".format(a, id(a)))
print("b: {}, b_id: {}".format(b, id(b)))
```

    a: [1, 2], a_id: 2432089490888
    b: [1, 2], b_id: 2432089490888


**注**：函数参数的默认值只能是不可变类型！


```python
# no
def f(a=["a"]):
    pass

# yes
def f(a="a"):
    pass
```



## 赋值
[回到顶部](#变量与操作符)

python用等号（=）来给变量赋值，且允许你同时为多个变量赋值。


```python
a, b, c = 1, "a", 2
print(c)
```

    2


**注**：当某函数有多个返回值，但只想获取其中某值时，pythonic的做法是使用_


```python
# func函数有两个返回值，但只想要第一个
need, _ = func(*args) 
```


```python

```

## 运算符
[回到顶部](#变量与操作符)

- 算术运算符：+、-、*、/、%（余数）、\***（幂）、//（向下整除）
- 比较运算符：==（等于）、!=（不等于）、>、<、>=、<=
- 赋值运算符：=、+=（c += a 等效于 c = c + a，以此类推）、-=、*=、/=、%=、**=、//=
- 逻辑运算符：and、or、not
- 成员运算符：in、not in
- 身份运算符：is、not is
- 位运算符：&（按位与）、|（按位或）、^（按位异或）、~（按位取反）、<<（左移）、>>（右移）


```python
(1 + 2**3) // 2
```


    4


```python
a = 1
a += 1
a
```


    2

**注**：python支持链式运算，pythonic的做法是优先链式运算，而不是使用and、or


```python
# no
a=1, b=1, c=1
if a > 1 and a < 2:
    pass

# yes
a=b=c=1
if 1 < a <2:
    pass
```
