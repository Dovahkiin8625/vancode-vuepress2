---
title: pythoné»‘é­”æ³•
date: 2022-03-10 14:42:58
permalink: /pages/da3851/
category:
  - Python
  - python ??
tag:
  - 
---
# python é»‘é­”æ³•

## ç®€æ´çš„é“¾å¼æ¯”è¾ƒ


```python
False==False==True
```




    False




```python
#ç­‰ä»·å†™æ³•
False==False and False==True
```




    False




```python
score = 95
if 90 < score < 100:
    print("nice job")
```

    nice job


## andå’Œorçš„çŸ­è·¯æ•ˆåº”
* å½“ä¸€ä¸ªorè¡¨è¾¾å¼ä¸­æ‰€æœ‰å€¼éƒ½ä¸ºçœŸï¼ŒPythonä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªå€¼ã€‚
* å½“ä¸€ä¸ªandè¡¨è¾¾å¼ä¸­æ‰€æœ‰å€¼ä¸ºçœŸï¼ŒPythonä¼šé€‰æ‹©æœ€åä¸€ä¸ªå€¼ã€‚


```python
(2 or 3)*(5 and 6 and 7)
```




    14



## è¿æ¥å¤šä¸ªåˆ—è¡¨


```python
a=[1,2]
b=[3,4]
c=[5,6]
sum((a,b,c),[])
```




    [1, 2, 3, 4, 5, 6]




```python
a+b+c
```




    [1, 2, 3, 4, 5, 6]




```python
# ä½¿ç”¨ * è§£åŒ…
[*a,*b,*c]
```




    [1, 2, 3, 4, 5, 6]




```python
# åˆ—è¡¨æ¨å¯¼å¼
[x for l in (a,b,c) for x in l]
```




    [1, 2, 3, 4, 5, 6]



## iså’Œ==
* == æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„**å€¼**æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç®¡ä¸¤è€…åœ¨å†…å­˜ä¸­çš„å¼•ç”¨åœ°å€æ˜¯å¦ä¸€æ ·ã€‚
* is æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å®Œå…¨ç›¸åŒï¼š1ã€å†…å®¹ç›¸åŒã€‚2ã€åœ°å€ç›¸åŒ


python ä¸­åˆ›å»ºä¸¤ä¸ªå†…å®¹ä¸€æ ·çš„å˜é‡æ—¶ï¼ˆå˜é‡åä¸åŒï¼‰ä¸€èˆ¬éƒ½ä¼šåœ¨å†…å­˜ä¸­åˆ†é…ä¸¤ä¸ªåœ°å€ã€‚ä½†æ˜¯å­˜åœ¨ä¸¤ä¸ªç‰¹æ®Šæƒ…å†µï¼š


### å°æ•´æ•°æ± 
ä¸ºé¿å…æ•´æ•°é¢‘ç¹ç”³è¯·å’Œé”€æ¯å†…å­˜ç©ºé—´ï¼ŒPython å®šä¹‰äº†ä¸€ä¸ªå°æ•´æ•°æ±  [-5, 256] è¿™äº›æ•´æ•°å¯¹è±¡æ˜¯æå‰å»ºç«‹å¥½çš„ï¼Œä¸ä¼šè¢«åƒåœ¾å›æ”¶ã€‚


```python
val1 = 257
val2 = 257
print(val1==val2)
print(val1 is val2)

```

    True
    False



```python
int1 = 256
int2 = 256
print(int1==int2)
print(int1 is int2)
```

    True
    True


**æ³¨æ„**: åœ¨åŒä¸€è¡Œé‡Œï¼ŒåŒæ—¶ç»™ä¸¤ä¸ªå˜é‡èµ‹åŒä¸€å€¼æ—¶ï¼Œè§£é‡Šå™¨çŸ¥é“è¿™ä¸ªå¯¹è±¡å·²ç»ç”Ÿæˆï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå¼•ç”¨åˆ°åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœåˆ†æˆä¸¤è¡Œçš„è¯ï¼Œè§£é‡Šå™¨å¹¶ä¸çŸ¥é“è¿™ä¸ªå¯¹è±¡å·²ç»å­˜åœ¨äº†ï¼Œå°±ä¼šé‡æ–°ç”³è¯·å†…å­˜å­˜æ”¾è¿™ä¸ªå¯¹è±¡ã€‚


```python
a = 257;b = 257
a is b
```




    False



### strçš„internæœºåˆ¶



```python
str1 = 'abc'
str2 = 'abc'
print(str1==str2)
print(str1 is str2)
```

    True
    True


å¦‚æœå­—ç¬¦ä¸²å«æœ‰**ç©ºæ ¼**ï¼Œä¸å¯ä¿®æ”¹ï¼Œæ²¡å¼€å¯internæœºåˆ¶ï¼Œä¸å…±ç”¨å¯¹è±¡ã€‚


```python
str3 = 'a b'
str4 = 'a b'
print(str3==str4)
print(str3 is str4)
```

    True
    False


## site-packages
ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ åªè§è¿‡ site-packages è¿™ä¸ªç›®å½•ï¼Œè€Œä½ æ‰€å®‰è£…çš„åŒ…ä¹Ÿå°†å®‰è£…åœ¨ è¿™ä¸ªç›®å½•ä¸‹ã€‚

è€Œ dist-packages å…¶å®æ˜¯ debian ç³»çš„ Linux ç³»ç»Ÿï¼ˆå¦‚ Ubuntuï¼‰æ‰ç‰¹æœ‰çš„ç›®å½•ï¼Œå½“ä½ ä½¿ç”¨ apt å»å®‰è£…çš„ Python åŒ…ä¼šä½¿ç”¨ dist-packagesï¼Œè€Œä½ ä½¿ç”¨ pip æˆ–è€… easy_install å®‰è£…çš„åŒ…è¿˜æ˜¯ç…§å¸¸å®‰è£…åœ¨ site-packages ä¸‹ã€‚

Debian è¿™ä¹ˆè®¾è®¡çš„åŸå› ï¼Œæ˜¯ä¸ºäº†å‡å°‘ä¸åŒæ¥æºçš„ Python ä¹‹é—´äº§ç”Ÿçš„å†²çªã€‚

**æŸ¥æ‰¾Pythonå®‰è£…ç›®å½•**



```python
from distutils.sysconfig import get_python_lib
print(get_python_lib())
```

    /root/anaconda3/envs/ML_ENV/lib/python3.8/site-packages


##  argument å’Œ parameter çš„åŒºåˆ«
arguments å’Œ parameter çš„ç¿»è¯‘éƒ½æ˜¯å‚æ•°ï¼Œåœ¨ä¸­æ–‡åœºæ™¯ä¸‹ï¼ŒäºŒè€…æ··ç”¨åŸºæœ¬æ²¡æœ‰é—®é¢˜ï¼Œæ¯•ç«Ÿéƒ½å«å‚æ•°å˜›ã€‚

ä½†è‹¥è¦ä¸¥æ ¼å†è¿›è¡ŒåŒºåˆ†ï¼Œå®ƒä»¬å®é™…ä¸Šè¿˜æœ‰å„è‡ªçš„å«æ³•

* parameterï¼šå½¢å‚ï¼ˆformal parameterï¼‰ï¼Œä½“ç°åœ¨å‡½æ•°å†…éƒ¨ï¼Œä½œç”¨åŸŸæ˜¯è¿™ä¸ªå‡½æ•°ä½“ã€‚

* argument ï¼šå®å‚ï¼ˆactual parameterï¼‰ï¼Œè°ƒç”¨å‡½æ•°å®é™…ä¼ é€’çš„å‚æ•°ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹è¿™æ®µä»£ç ï¼Œ`"info"` ä¸º argumentï¼Œè€Œ `msg` ä¸º parameterã€‚


```python
def output_msg(msg):
    print(msg)
output_msg("info")
```

    info


## /usr/bin/env python
linuxç¯å¢ƒä¸‹ï¼Œpythonè„šæœ¬æˆ–è€…é¡¹ç›®å…¥å£æ–‡ä»¶çš„ç¬¬ä¸€è¡Œ`#!/usr/bin/python`æˆ–è€…`#!/usr/bin/env python`
è¡¨ç¤ºç”¨python æ‰§è¡Œè¯¥å¯æ‰§è¡Œæ–‡ä»¶ã€‚
å¯¹äºåŠ ä¸Šè¯¥æ–‡ä»¶å¤´çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼Œä¾‹å¦‚ï¼š



```python
!cat assets/testpy/hello.py
```

    #!/usr/bin/env python
    print("hello python")



```python
!chmod +x assets/testpy/hello.py
```


```python
ll assets/testpy/hello.py
```

    -rwxr-xr-x 1 root 44 6æœˆ  29 14:14 [0m[01;32massets/testpy/hello.py[0m*



```python
!./assets/testpy/hello.py
```

    hello python


**env å‘½ä»¤**
æ‰§è¡Œ `env python`æ—¶ï¼Œä¼šå» `env | grep PATH` ä¾æ¬¡æŸ¥æ‰¾pythonå¯æ‰§è¡Œæ–‡ä»¶ã€‚

## dict()å’Œ{}ç”Ÿæˆå­—å…¸åŒºåˆ«
åœ¨è¿è¡Œæ•ˆç‡ä¸Šï¼Œ`{}`æ¯”`dict()`å¿«ä¸‰å€å·¦å³


```python
#python -m è®²æ¨¡å—å½“ä½œè„šæœ¬è¿è¡Œ
!python -m timeit -n 100000 -r 5 -v "dict()"
```

    raw times: 12.3 msec, 22 msec, 10.4 msec, 10.2 msec, 9.8 msec
    
    100000 loops, best of 5: 98 nsec per loop



```python
!python -m timeit -n 100000 -r 5 -v "{}"
```

    raw times: 2.43 msec, 2.46 msec, 2.5 msec, 2.58 msec, 2.45 msec
    
    100000 loops, best of 5: 24.3 nsec per loop


ä½¿ç”¨`dis`æ¨¡å—æŸ¥çœ‹è¿‡ç¨‹


```python
!cat assets/testpy/demo_dict1.py
```

    dict()



```python
!python -m dis assets/testpy/demo_dict1.py
```

      1           0 LOAD_NAME                0 (dict)
                  2 CALL_FUNCTION            0
                  4 POP_TOP
                  6 LOAD_CONST               0 (None)
                  8 RETURN_VALUE



```python
!cat assets/testpy/demo_dict2.py
```

    {}



```python
!python -m dis assets/testpy/demo_dict2.py
```

      1           0 BUILD_MAP                0
                  2 POP_TOP
                  4 LOAD_CONST               0 (None)
                  6 RETURN_VALUE


## å½“try...finally é‡åˆ° return
`try...finally...`ç”¨æ³•æ˜¯ï¼šä¸è®ºtryé‡Œçš„ä»£ç æ˜¯å¦å¼‚å¸¸ï¼Œæœ€ç»ˆéƒ½èƒ½ä¿è¯finallyæ‰§è¡Œã€‚


```python
def func():
    try:
        print('try')
        return 'try'
    finally:
        return 'finally'
func()
```

    try





    'finally'




```python
def func():
    try:
        print('try')
        return 'try'
    finally:
        print('finally')
func()

```

    try
    finally





    'try'



å¦‚æœ finally é‡Œæœ‰æ˜¾å¼çš„ returnï¼Œé‚£ä¹ˆè¿™ä¸ª return ä¼šç›´æ¥è¦†ç›– try é‡Œçš„ returnï¼Œè€Œå¦‚æœ finally é‡Œæ²¡æœ‰ æ˜¾å¼çš„ returnï¼Œé‚£ä¹ˆ try é‡Œçš„ return ä»ç„¶æœ‰æ•ˆ,ä¸”ï¼Œä¼šåœ¨finallyä»£ç æ‰§è¡Œå®Œè¿”å›ã€‚

## Python ä¸­çš„ç©ºå­—ç¬¦
strä¸­ï¼Œä¸¤ä¸ªå­—ç¬¦ä¹‹é—´éƒ½æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦.


```python
"aabb".count("a")
```




    2




```python
"aabb".count("")
```




    5




```python
(" "*10).count("")
```




    11




```python
"" in ""
```




    True




```python
"" in "str"
```




    True



## +=ä¸ç­‰äº=+
* `+=`æ“ä½œä¼šè°ƒç”¨`__iadd__`æ–¹æ³•ï¼Œæ²¡æœ‰è¯¥æ–¹æ³•ï¼Œå†å°è¯•è°ƒç”¨`__add__`æ–¹æ³•
* `=+`ä¼šç›´æ¥è°ƒç”¨`__add__`æ–¹æ³•
**`__iadd__`å’Œ`__add__`:**
* `__iadd__`æ–¹æ³•ç›´æ¥åœ¨åŸå¯¹è±¡ä¸Šè¿›è¡Œæ›´æ–°ï¼Œè¯¥æ–¹æ³•è¿”å›å€¼ä¸ºNone

å¯¹åˆ—è¡¨è¿›è¡Œ`+=`æ“ä½œç›¸å½“äºextendï¼Œè€Œä½¿ç”¨`=+`æ“ä½œåˆ™æ˜¯æ–°å¢ä¸€ä¸ªåˆ—è¡¨ï¼Œå¹¶é‡æ–°èµ‹å€¼ã€‚


```python
list1 = [1,2,3,4]
list2 = list1
list1 = list1+[5,6,7]
list1
```




    [1, 2, 3, 4, 5, 6, 7]




```python
list2
```




    [1, 2, 3, 4]




```python
list1 = [1,2,3,4]
list2 = list1
list1 += [5,6,7]
list1
```




    [1, 2, 3, 4, 5, 6, 7]




```python
list2
```




    [1, 2, 3, 4, 5, 6, 7]



## ju
